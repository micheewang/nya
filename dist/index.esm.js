function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,n,e){return(u=i()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&o(i,e.prototype),i}).apply(null,arguments)}function a(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function c(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(t,n)||l(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){if(t){if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function s(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=l(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw i}}}}var p=function t(e,r,o){n(this,t),"string"==typeof r||h(r)?(o=[r],r={}):Array.isArray(r)&&(o=r,r={}),r=r||{},o=o?Array.isArray(o)?o:[o]:[],this.tagName=e,this.ref=null,this.mark=[],this.attrs=r,this.children=o};function h(t){return t instanceof p}function d(t,n,e){return new p(t,n,e)}var y,m=Proxy?new Proxy({},{get:function(t,n){return t.hasOwnProperty(n)||(t[n]=function(t,e){return new p(n,t,e)}),t[n]}}):(y={},"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,let,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot".split(",").forEach((function(t){y[t.slice(0,1).toUpperCase()+t.slice(1)]=function(n,e){return new p(t,n,e)}})),y),v=c(["warn","error","info","log"].map((function(t){return function(){var n;return(n=console)[t].apply(n,arguments)}})),3),b=v[0],w=v[1];function g(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(){for(var t=this,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n.forEach((function(n){return n.call.apply(n,[t].concat(r))}))}}function A(){}function S(t,n){if(!O(t))throw new TypeError(n||"Parameter must be a function.")}function O(t){return"function"==typeof t}v[2];var j=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(l,p);var e,u,c=(e=l,u=i(),function(){var t,n=r(e);if(u){var o=r(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return a(this,t)});function l(t,e,r,o){var i;return n(this,l),(i=c.call(this,t,e,r)).const=o,i.templet=null,i.vNode=null,i.parentNode=null,i.getter=null,i.mouted=null,i.update=null,i.unMouted=null,i}return l}();function E(t){return t instanceof j}function k(t){return S(t),function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=Symbol("Component");return function(t,e){return u(j,[r,t,e].concat(n))}}(t)}var C=function(){function t(e,r){n(this,t),S(e),this.responder=e,this.recipient=r||A,this.wants=new Set}var r,o,i;return r=t,(o=[{key:"emit",value:function(){this.wants.forEach((function(t){return t()}))}},{key:"unbind",value:function(t){this.wants.has(t)&&this.wants.delete(t)}},{key:"createTruck",value:function(t){var n=this;S(t);var e=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n.responder.apply(n,[function(n){t(n)}].concat(r))};return this.wants.add(e),[e,function(t){return n.recipient(t)}]}}])&&e(r.prototype,o),i&&e(r,i),t}();function N(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return u(C,n)}function P(){return function t(n){t.current=n}}var T=new Map;T.set(/[a-zA-Z]+/,{ref:function(t,n){S(n,"The ref parameter must be a function"),n(t.ref)},on:function(t,n){var e=t.ref;for(var r in n)e.addEventListener(r,n[r])},class:function(n,e){var r=n.ref;if("string"===t(e))r.classList=e;else{var o=[];if(Array.isArray(e))o=e;else for(var i in e)e[i]&&o.push(i);r.classList=o.join(" ")}}});var x=function(t){var n=function n(){for(var e=n.cache,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var u=o.join(",");return Object.hasOwnProperty.call(e,u)||(e[u]=t.apply(this,o)),e[u]};return n.cache={},n}((function(t,n){var e,r=s(T.entries());try{for(r.s();!(e=r.n()).done;){var o=c(e.value,2),i=o[0],u=o[1];if(i.test(t)&&u[n])return u[n]}}catch(t){r.e(t)}finally{r.f()}return!1}));function _(t,n,e){var r=t.tagName,o=x(r,n);return!!o&&(o(t,e),!0)}var M={current:null};function R(t){var n=M.current;if(!n)throw new Error(t||"hooks must be called inside Component");return n}var I=[];function L(t){t.timestamp;var n=t.component,e=n.vNode,r=U(n),o=B.call(r);n.vNode=r,n.parentNode.replaceChild(o,n.ref),n.ref=o,q(e,"unMouted"),Z(n,"update"),q(r,"mouted")}function q(t,n){var e=null;E(t)?(e=[t.vNode],O(t[n])&&t[n]()):e=t.children,e.forEach((function(t){h(t)&&q(t,n)}))}function Z(t,n){E(t)&&O(t[n])&&t[n]()}function z(t,n){if(E(t))F.call(t,n);else{if(!h(t))throw new Error("The root element must mount the component.");B.call(t,n)}}function B(t){var n=this.tagName,e=this.attrs,r=this.children,o=this.ref=document.createElement(n);for(var i in e){var u=e[i];_(this,i,u)||("boolean"==typeof u?o[i]=u:/on[A-Z][a-zA-Z]+/.test(i)?(S(u),o[i.toLowerCase()]=e[i]):o.setAttribute(i,u))}var a,c=s(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if("function"==typeof l&&(l=l()),null!=l&&""!==l)if(h(l))E(l)?F.call(l,o):B.call(l,o);else{var f=document.createTextNode(String(l));o.appendChild(f)}}}catch(t){c.e(t)}finally{c.f()}return t&&t.appendChild(o),o}function F(t){if(this.parentNode=t,null===this.templet){M.current=this;var n={props:this.attrs,slot:this.children};S(this.templet=this.const(n),"Creating a component must return a function that returns the virtual node"),M.current=null}var e=this.vNode=U(this);h(e)?(this.ref=B.call(e,t),Z(this,"mouted")):w("Creating a component must return a function that returns the virtual node")}function U(t){if(t.templet)return t.getter?t.templet(t.getter()):t.templet()}function D(t){var n=R(),e=t;function r(){return e}return n.getter&&b("This component has registered the useChapter method, which will cause the previous method to be invalid."),n.getter=r,[r,function(t){var r;e=t,r=n,1===I.push({timestamp:+new Date,component:r})&&requestAnimationFrame((function(){for(;I.length;)L(I.shift())}))}]}function $(t){S(t);var n=R();n.mouted=n.mouted?g(n.mouted,t):t}function G(t){S(t);var n=R();n.update=n.update?g(n.update,t):t}function H(t){S(t);var n=R();n.unMouted=n.unMouted?g(n.unMouted,t):t}export{m as TAG,k as createComponent,d as createElement,P as createRef,N as createStore,z as renderDOM,D as useChapter,$ as useMouted,H as useUnMouted,G as useUpdate};
