"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,e,n){return(i=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var u=new(Function.bind.apply(t,r));return n&&o(u,n.prototype),u}).apply(null,arguments)}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return n}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,u=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}Object.defineProperty(exports,"__esModule",{value:!0});var p=function t(n,r,o){e(this,t),"string"==typeof r||h(r)?(o=[r],r={}):Array.isArray(r)&&(o=r,r={}),r=r||{},o=o?Array.isArray(o)?o:[o]:[],this.tagName=n,this.ref=null,this.mark=[],this.attrs=r,this.children=o};function h(t){return t instanceof p}var d,y=window.Proxy?new Proxy({},{get:function(t,e){return t.hasOwnProperty(e)||(t[e]=function(t,n){return new p(e,t,n)}),t[e]}}):(d={},"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,let,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot".split(",").forEach((function(t){d[t.slice(0,1).toUpperCase()+t.slice(1)]=function(e,n){return new p(t,e,n)}})),d),m=c(["warn","error","info","log"].map((function(t){return function(){var e;return(e=console)[t].apply(e,arguments)}})),3),v=m[0],b=m[1];function w(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.forEach((function(e){return e.call.apply(e,[t].concat(r))}))}}function g(){}function A(t,e){if(!S(t))throw new TypeError(e||"Parameter must be a function.")}function S(t){return"function"==typeof t}m[2];var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(l,p);var n,i,c=(n=l,i=u(),function(){var t,e=r(n);if(i){var o=r(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return a(this,t)});function l(t,n,r,o){var u;return e(this,l),(u=c.call(this,t,n,r)).const=o,u.templet=null,u.vNode=null,u.parentNode=null,u.getter=null,u.mouted=null,u.update=null,u.unMouted=null,u}return l}();function O(t){return t instanceof x}var j=function(){function t(n,r){e(this,t),A(n),this.responder=n,this.recipient=r||g,this.wants=new Set}var r,o,u;return r=t,(o=[{key:"emit",value:function(){this.wants.forEach((function(t){return t()}))}},{key:"unbind",value:function(t){this.wants.has(t)&&this.wants.delete(t)}},{key:"createTruck",value:function(t){var e=this;A(t);var n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.responder.apply(e,[function(e){t(e)}].concat(r))};return this.wants.add(n),[n,function(t){return e.recipient(t)}]}}])&&n(r.prototype,o),u&&n(r,u),t}();var E=new Map;E.set(/[a-zA-Z]+/,{ref:function(t,e){A(e,"The ref parameter must be a function"),e(t.ref)},on:function(t,e){var n=t.ref;for(var r in e)n.addEventListener(r,e[r])},class:function(e,n){var r=e.ref;if("string"===t(n))r.classList=n;else{var o=[];if(Array.isArray(n))o=n;else for(var u in n)n[u]&&o.push(u);r.classList=o.join(" ")}}});var C=function(t){var e=function e(){for(var n=e.cache,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=o.join(",");return Object.hasOwnProperty.call(n,i)||(n[i]=t.apply(this,o)),n[i]};return e.cache={},e}((function(t,e){var n,r=s(E.entries());try{for(r.s();!(n=r.n()).done;){var o=c(n.value,2),u=o[0],i=o[1];if(u.test(t)&&i[e])return i[e]}}catch(t){r.e(t)}finally{r.f()}return!1}));function k(t,e,n){var r=t.tagName,o=C(r,e);return!!o&&(o(t,n),!0)}var N={current:null};function P(t){var e=N.current;if(!e)throw new Error(t||"hooks must be called inside Component");return e}var M=[];function T(t){t.timestamp;var e=t.component,n=e.vNode,r=U(e),o=I.call(r);e.vNode=r,e.parentNode.replaceChild(o,e.ref),e.ref=o,_(n,"unMouted"),R(e,"update"),_(r,"mouted")}function _(t,e){var n=null;O(t)?(n=[t.vNode],S(t[e])&&t[e]()):n=t.children,n.forEach((function(t){h(t)&&_(t,e)}))}function R(t,e){O(t)&&S(t[e])&&t[e]()}function I(t){var e=this.tagName,n=this.attrs,r=this.children,o=this.ref=document.createElement(e);for(var u in n){var i=n[u];k(this,u,i)||("boolean"==typeof i?o[u]=i:/on[A-Z][a-zA-Z]+/.test(u)?(A(i),o[u.toLowerCase()]=n[u]):o.setAttribute(u,i))}var a,c=s(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if("function"==typeof l&&(l=l()),null!=l&&""!==l)if(h(l))O(l)?L.call(l,o):I.call(l,o);else{var f=document.createTextNode(String(l));o.appendChild(f)}}}catch(t){c.e(t)}finally{c.f()}return t&&t.appendChild(o),o}function L(t){if(this.parentNode=t,null===this.templet){N.current=this;var e={props:this.attrs,slot:this.children};A(this.templet=this.const(e),"Creating a component must return a function that returns the virtual node"),N.current=null}var n=this.vNode=U(this);h(n)?(this.ref=I.call(n,t),R(this,"mouted")):b("Creating a component must return a function that returns the virtual node")}function U(t){if(t.templet)return t.getter?t.templet(t.getter()):t.templet()}exports.TAG=y,exports.createComponent=function(t){return A(t),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Symbol("Component");return function(t,n){return i(x,[r,t,n].concat(e))}}(t)},exports.createElement=function(t,e,n){return new p(t,e,n)},exports.createRef=function(){return function t(e){t.current=e}},exports.createStore=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(j,e)},exports.renderDOM=function(t,e){if(O(t))L.call(t,e);else{if(!h(t))throw new Error("The root element must mount the component.");I.call(t,e)}},exports.useChapter=function(t){var e=P(),n=t;function r(){return n}return e.getter&&v("This component has registered the useChapter method, which will cause the previous method to be invalid."),e.getter=r,[r,function(t){var r;n=t,r=e,1===M.push({timestamp:+new Date,component:r})&&requestAnimationFrame((function(){for(;M.length;)T(M.shift())}))}]},exports.useMouted=function(t){A(t);var e=P();e.mouted=e.mouted?w(e.mouted,t):t},exports.useUnMouted=function(t){A(t);var e=P();e.unMouted=e.unMouted?w(e.unMouted,t):t},exports.useUpdate=function(t){A(t);var e=P();e.update=e.update?w(e.update,t):t};
